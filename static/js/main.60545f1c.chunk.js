(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{23:function(e,t,n){e.exports=n(49)},29:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(20),c=n.n(u),o=n(1),l=n.n(o),s=n(3),i=n(4),m=(n(29),n(8)),p=n(22),d=new m.b("pk_live_B151BB2AF18DF0BE",{extensions:[new p.a]});function f(){var e,t,n=Object(a.useState)(""),u=Object(i.a)(n,2),c=u[0],o=u[1],m=Object(a.useState)(!1),p=Object(i.a)(m,2),f=p[0],b=p[1],v=Object(a.useState)(null),h=Object(i.a)(v,2),E=h[0],g=h[1],w=Object(a.useState)(null===(e=navigator.userAgentData)||void 0===e||null===(t=e.brands)||void 0===t?void 0:t.some((function(e){return"Google Chrome"===e.brand}))),O=Object(i.a)(w,1)[0];Object(a.useEffect)((function(){O||alert("This demo is only supported on Google Chrome on a laptop or desktop. Demos on other browsers and platforms are coming soon!"),d.user.isLoggedIn().then(function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(t),!t){e.next=7;break}return e.next=4,d.webauthn.getMetadata();case 4:n=e.sent,o(n.username),g(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[f,O]);var j=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.webauthn.registerNewUser({username:c});case 2:b(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.webauthn.login({username:c});case 2:b(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.user.logout();case 2:b(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){var t=e.data;return t?r.a.createElement("div",null,r.a.createElement("pre",null,JSON.stringify(t,null,2))):r.a.createElement("div",null)};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"WebAuthn Login with Magic "),r.a.createElement("h4",null,"Login with Yubikey or TouchID on your Chrome browser")),f?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"Current user: ",c),r.a.createElement("button",{onClick:x},"Log out"))),r.a.createElement("div",null,r.a.createElement(y,{data:E}))):r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"Please sign up or log in"),r.a.createElement("input",{name:"username",required:"required",placeholder:"Enter your username",onChange:function(e){o(e.target.value)}}),r.a.createElement("div",null,r.a.createElement("button",{disabled:!O,onClick:j},"Sign up"),r.a.createElement("button",{className:"login-button",disabled:!O,onClick:k},"Log in"))))}var b=document.getElementById("root");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),b)}},[[23,1,2]]]);
//# sourceMappingURL=main.60545f1c.chunk.js.map